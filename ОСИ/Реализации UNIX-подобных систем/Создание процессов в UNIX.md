#оси 
При загрузке системы формируется процесс с идентификатором pid = 0. Этот процесс называют swapper. Остальные процессы создаются при помощи [[fork]].

После вызова fork() происходит:
1. Обращение к [[Ядро ОС UNIX|ядру ОС]] и создаётся запись в **таблице дескрипторов процессов**. 
2. Когда запись нашлась, в неё записываются данные из **родительского процесса**. 
3. Дальше выделяется память для [[Управление процессами и потоками в UNIX|процедурного сегмента]], сегмента данных, динамического сегмента данных сына. 
4. И в эту память копируются сегменты родительского процесса. Контекст процесса так же формируется из родительского.
5. Ядро ОС присваивает сыну идентификатор, настраивает карту памяти и регистры
6. Процессу-сыну предоставляется доступ к открытым файлам родительского процесса посредством копирования таблицы пользовательских дескрипторов из контекста родительского процесса

## Настройка карты памяти
Карта памяти процесса-сына настраивается по следующему принципу - процессу-сыну выделяются новые процессы страниц (процедурного, динамического и сегмента данных), но они указывают на родительские страницы, доступные лишь для чтения. Как только процесс-сын пытается что-то записать в такую таблицу, то происходит страничное прерывание. 

При этом ядро ОС выделяет процессу-сыну новую страницу и разрешает не только читать, но и писать в неё.